# Intellectmoney gateway 

```
try{
    \Intellectmoney\SampleConf::$eshopId = 111111;
    $gateway = new \Intellectmoney\Merchant\Payment();
    
    
    $url = "https://www.example.com/"
    $email = "info@example.com"
    $orderId = 145 //Random number or string generated by your internal system
    $amount = 2000;
    
    $invoiceId = $gateway->createInvoice(
        $orderId,
        $amount,
        $email,
        resultUrl: $url,
    )->Result->InvoiceId;

    if ($invoiceId!=null){
        $paymentLink = $gateway->pay($invoiceId)->Result->PaymentLink;
        header("Location: ".$paymentLink);
    }
} catch (\GuzzleHttp\Exception\GuzzleException $e) {
    var_dump($e->getMessage());
}
```